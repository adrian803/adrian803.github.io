<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>技术架构 | 菜鸡林某の blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="菜鸡林某の blog">
    
    <link rel="preload" href="/blog/assets/css/0.styles.671fbdd0.css" as="style"><link rel="preload" href="/blog/assets/js/app.2b7d4e2d.js" as="script"><link rel="preload" href="/blog/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/blog/assets/js/8.7123cd43.js" as="script"><link rel="prefetch" href="/blog/assets/js/3.bea23741.js"><link rel="prefetch" href="/blog/assets/js/4.d12742be.js"><link rel="prefetch" href="/blog/assets/js/5.216cae74.js"><link rel="prefetch" href="/blog/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/blog/assets/js/7.9c9172a7.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.671fbdd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">菜鸡林某の blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="菜鸡林某の blog" class="dropdown-title"><span class="title">菜鸡林某の blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="菜鸡林某の blog" class="mobile-dropdown-title"><span class="title">菜鸡林某の blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/adrian803" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="菜鸡林某の blog" class="dropdown-title"><span class="title">菜鸡林某の blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="菜鸡林某の blog" class="mobile-dropdown-title"><span class="title">菜鸡林某の blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/adrian803" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/" aria-current="page" class="sidebar-link">博客介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/handbook/1" class="sidebar-heading clickable open active"><span>基础学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/handbook/1.html" aria-current="page" class="active sidebar-link">博客搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#安装-picgo" class="sidebar-link">安装 PicGo</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#安装-webp-插件" class="sidebar-link">安装 webp 插件</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#cos-对象存储" class="sidebar-link">COS 对象存储</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#配置-picgo-图床服务" class="sidebar-link">配置 PicGo 图床服务</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#测试" class="sidebar-link">测试</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#使用图床-在-typora-粘贴图片时自动上传" class="sidebar-link">使用图床：在 Typora 粘贴图片时自动上传</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#使用图床-在-yanknote-粘贴图片时自动上传" class="sidebar-link">使用图床：在 YankNote 粘贴图片时自动上传</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#使用图床-在-obsidian-粘贴图片时自动上传" class="sidebar-link">使用图床：在 Obsidian 粘贴图片时自动上传</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#小结" class="sidebar-link">小结</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#_1-安装-node-js" class="sidebar-link">1.  安装 Node.js</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#_2-安装-yarn" class="sidebar-link">2. 安装 Yarn</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#_3-安装-vuepress" class="sidebar-link">3. 安装 VuePress</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#_4-配置-vuepress" class="sidebar-link">4. 配置 VuePress</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#_5-在本地启动服务器" class="sidebar-link">5. 在本地启动服务器</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#基础配置" class="sidebar-link">基础配置</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#完善-repository" class="sidebar-link">完善 Repository</a></li><li class="sidebar-sub-header"><a href="/blog/handbook/1.html#安装和配置-git" class="sidebar-link">安装和配置 Git</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="技术架构"><a href="#技术架构" class="header-anchor">#</a> 技术架构</h1> <p><strong>VuePresss+GitHub Pages+picgo+腾讯云对象存储+任意Markdown编辑器 （个人推荐<a href="https://typora.io/" target="_blank" rel="noopener noreferrer">Typora<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,<a href="https://obsidian.md/" target="_blank" rel="noopener noreferrer">Obsidian<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>,<a href="https://yanknote.com/" target="_blank" rel="noopener noreferrer">Yank Note<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)+git</strong></p> <p>利用 VuePresss 组件可以将 Markdown 语法转换成静态网页的优点配合 GitHub Pages 免费存放静态网页的有点可以做到 0 成本构建一个个人知识库，缺点是访问速度可能比较慢，而 picgo 和腾讯云对象存储二者合一做到图床的效果可以使知识库的图片传输速度达到一个提升正好弥补了访问速度的缺点。而我推荐的三款 Markdown 编辑器又正好支持将图片自动上传到图床并且转换链接，配合 git 简单的推送机制，这样一个属于自己的个人知识库就搭建完成了。并且插入的图片因为是使用图床的原因使用可以直接复制 md 文件进意见多平台发布。</p> <h1 id="前期准备"><a href="#前期准备" class="header-anchor">#</a> 前期准备</h1> <ol><li><p>node</p></li> <li><p>git</p></li> <li><p>GitHub 账号</p></li> <li><p>腾讯云对象存储</p></li></ol> <h1 id="一、picgo-图床搭建"><a href="#一、picgo-图床搭建" class="header-anchor">#</a> 一、PicGo 图床搭建</h1> <h2 id="安装-picgo"><a href="#安装-picgo" class="header-anchor">#</a> 安装 PicGo</h2> <p><strong>PicGo 是一个用于快速上传图片并获取图片 URL 链接的工具</strong>，支持腾讯云 COS、七牛图床、Github 图床、又拍云图床、SM.SM 等。</p> <p>我们以 Windows 为例，首先访问 Github 仓库去下载（<a href="https://github.com/Molunerfinn/PicGo/releases%22" target="_blank" rel="noopener noreferrer">点击跳转<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）客户端安装包，找到自己<s>最新版</s>自己看着顺眼的版本，找到对应平台的安装包，点击下载：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311400.webp" alt="Img">
下载之后正常安装即可</p> <h2 id="安装-webp-插件"><a href="#安装-webp-插件" class="header-anchor">#</a> 安装 webp 插件</h2> <p>PicGo 有一系列好用的插件，帮助扩展功能，比如压缩图片、添加水印等等。本文将以 <strong>webp 插件</strong>为例，演示如何在 PicGo 中使用插件。</p> <p><strong>webp</strong> 插件会在图片上传前将图片转为 <code>.webp</code> 格式，它相比于传统的 <code>.jpg</code>、<code>.png</code> 等格式，同等体积质量更高，同等质量体积更小。图片经过压缩之后再上传至 COS，对于节省存储空间，节省流量都很有帮助。如果对图片格式有特殊要求，不希望转换格式，可以省略这一步。</p> <p>打开 PicGo，进入插件设置，在搜索栏输入插件名字即可搜索并安装，非常方便：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182314682.webp" alt="Img"></p> <h2 id="cos-对象存储"><a href="#cos-对象存储" class="header-anchor">#</a> COS 对象存储</h2> <p>COS（Cloud Object Storage，对象存储）是由腾讯云推出的一种分布式存储服务。它的特点是无目录层次结构、无数据格式限制，可容纳海量数据，支持 HTTP/HTTPS 协议访问。腾讯云 COS 的存储桶空间无容量上限，无需分区管理，适用于 CDN 数据分发、数据万象处理或大数据计算与分析的数据湖等多种场景。</p> <h3 id="创建存储桶"><a href="#创建存储桶" class="header-anchor">#</a> 创建存储桶</h3> <p>按需要填写各项即可，需要注意的地方是访问权限的选择，默认是<strong>私有读写，适合存储隐私机密文件</strong>；本文选择了<strong>公有读私有写</strong>，是因为这个存储桶主要是做图床服务，用来<strong>存储图片，并能对外提供公开访问</strong>。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311352.webp" alt="">
然后一直点下一步，创建即可。</p> <p>创建成功后，来到存储桶列表，记录下<strong>存储桶的名称</strong>，和<strong>所属地域的代号</strong>，如图示例，也就是 <code>ap-shanghai</code>。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311476.webp" alt=""></p> <h3 id="创建-api-秘钥"><a href="#创建-api-秘钥" class="header-anchor">#</a> 创建 API 秘钥</h3> <p>进入【访问管理】 - 【访问秘钥】 - 【API 秘钥管理】（<a href="https://console.cloud.tencent.com/cam/capi" target="_blank" rel="noopener noreferrer">点此访问<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>），会提示是否使用子账号管理，可根据实际需要进行选择，这里我们<strong>直接使用主账号进行创建</strong>。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311466.webp" alt="">
创建成功，将 <strong>APPID</strong>，<strong>SecretId</strong>，<strong>SecretKey</strong> 保存下来，非常重要，谨防外泄。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311693.webp" alt=""></p> <h2 id="配置-picgo-图床服务"><a href="#配置-picgo-图床服务" class="header-anchor">#</a> 配置 PicGo 图床服务</h2> <p>打开安装好的 PicGo 客户端，进入【图床设置】 - 【腾讯云 COS】，将上面保存的内容填写到配置中：</p> <p><img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311843.webp" alt=""></p> <ul><li>COS 版本：选择 COS v5。</li> <li>设定 Secretld：开发者拥有的项目身份识别 ID，用于身份认证，可在 <a href="https://console.cloud.tencent.com/capi" target="_blank" rel="noopener noreferrer">API 密钥管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 页面中创建和获取。</li> <li>设定 SecretKey：开发者拥有的项目身份密钥，可在 <a href="https://console.cloud.tencent.com/capi" target="_blank" rel="noopener noreferrer">API 密钥管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 页面获取。</li> <li>设定 Bucket：存储桶，COS 中用于存储数据的容器。有关存储桶的进一步说明，请参见 <a href="https://cloud.tencent.com/document/product/436/13312" target="_blank" rel="noopener noreferrer">存储桶概述<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档。</li> <li>设定 AppId：开发者访问 COS 服务时拥有的用户维度唯一资源标识，用以标识资源，可在 <a href="https://console.cloud.tencent.com/capi" target="_blank" rel="noopener noreferrer">API 密钥管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 页面获取。</li> <li>设定存储区域：存储桶所属地域信息，枚举值可参见 <a href="https://cloud.tencent.com/document/product/436/6224" target="_blank" rel="noopener noreferrer">可用地域<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档，例如 ap-beijing、ap-hongkong、eu-frankfurt 等。</li> <li>设定存储路径：图片存放到 COS 存储桶中的路径。</li> <li>设定自定义域名：可选，若您为上方的存储空间配置了自定义源站域名，则可填写。相关介绍可参见 <a href="https://cloud.tencent.com/document/product/436/36638" target="_blank" rel="noopener noreferrer">开启自定义源站域名<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>设定网址后缀：通过在网址后缀添加 COS 数据处理参数实现图片压缩、裁剪、格式转换等操作，相关介绍可参见 <a href="https://cloud.tencent.com/document/product/436/54049" target="_blank" rel="noopener noreferrer">图片处理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。
其中，Bucketm，是存储桶名称</li></ul> <p>存储路径，也就是图片上传后在存储桶内的目录结构，可根据需要填写。如果填写，存储桶会自动创建出对应的目录结构。注意要以 <code>/</code> 结尾表示是一个目录。</p> <p>自定义域名，COS 对应存储桶内的文件会有一个默认的 url，域名非常长不容易记，比如我的就是 <code>https://kunwu-1251820157.cos.ap-beijing.myqcloud.com</code>，所以 COS 支持自定义域名。如果 COS 中绑定了自定义域名（这是前提），然后再填写该项，则 PicGo 会拿到改写后的文件 url。如果没有绑定自定义域名，可以忽略该项。</p> <p>然后点击确定，并设为默认图床。</p> <p>然后，进入【PicGo 设置】，将【上传前重命名】、【时间戳重命名】打开，这样可以防止图片重名</p> <p><img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311956.webp" alt=""></p> <h2 id="测试"><a href="#测试" class="header-anchor">#</a> 测试</h2> <p>打开 PicGo 上传区，选择本地的一张图片，然后上传。上传前会自动根据时间戳进行重命名，也可以自己修改：</p> <p><img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311772.webp" alt="">
点击确定，图片就会进行上传了。</p> <p>PicGo 的相册功能，会展示已经上传的图片，并提供了复制图片 url，编辑图片 url 和移除相册的基础操作。需要注意的是，仅仅是删除本地的数据，云端的图片不会受影响。</p> <p><img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311313.webp" alt=""></p> <p>来到腾讯云 COS 控制台，进入对应的存储桶中，可以发现图片已经上传成功了：</p> <p><img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311928.webp" alt=""></p> <p>存储桶内的每个文件都会有一个唯一的访问地址，点击【详情】查看：</p> <p><img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182311209.webp" alt=""></p> <h2 id="使用图床-在-typora-粘贴图片时自动上传"><a href="#使用图床-在-typora-粘贴图片时自动上传" class="header-anchor">#</a> 使用图床：在 Typora 粘贴图片时自动上传</h2> <p>打开 Typora，进入【文件】- 【偏好设置】- 【图像设置】，进行三个设置：</p> <ol start="0"><li>插入图片时，执行上传图片操作</li> <li>上传服务采用 PicGo(app)</li> <li>设置 PicGo 程序的安装路径
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//imgyank-note-picgo-img-20230318225934.webp" alt="Img">
之后，当我们使用 typora 编写 md 文档，在插入图片时，会自动唤起 PicGo 客户端，并上传图片到目标平台。</li></ol> <h2 id="使用图床-在-yanknote-粘贴图片时自动上传"><a href="#使用图床-在-yanknote-粘贴图片时自动上传" class="header-anchor">#</a> 使用图床：在 YankNote 粘贴图片时自动上传</h2> <p>打开 YankNote 左下角齿轮图标 -【图片】勾选上
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182303509.webp" alt="Img"></p> <h2 id="使用图床-在-obsidian-粘贴图片时自动上传"><a href="#使用图床-在-obsidian-粘贴图片时自动上传" class="header-anchor">#</a> 使用图床：在 Obsidian 粘贴图片时自动上传</h2> <p>安装一款一款名为“<strong>Image auto upload plugin</strong>”的 Obsidian 插件，安装后，直接使用默认设置，无需做任何更改。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303182307558.webp" alt="image.png">
之后，你可以将图片粘贴，或拖动到 Obsidian 中，插件和 Picgo 会自动上传图片，并在对应的位置自动插入图片链接予以展示。</p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p>到此，一个基于腾讯云 COS + PicGo 搭建的图床服务就完成了。总结一下整个流程：</p> <ol><li>实名注册腾讯云账号，并开通 COS</li> <li>创建存储桶，创建 API 密钥</li> <li>本地安装 PicGo 客户端工具，并根据需要配置插件</li> <li>在图床设置中，将各项配置都填写正确</li> <li>结合自己常用的其他工具，比如 Typora 等使用图床服务</li></ol> <h1 id="二、本地搭建-vuepress"><a href="#二、本地搭建-vuepress" class="header-anchor">#</a> 二、本地搭建 VuePress</h1> <h2 id="_1-安装-node-js"><a href="#_1-安装-node-js" class="header-anchor">#</a> 1.  安装 Node.js</h2> <p>下载并安装 <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">Node.js (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="_2-安装-yarn"><a href="#_2-安装-yarn" class="header-anchor">#</a> 2. 安装 Yarn</h2> <p>使用命令行程序全局安装包管理器 Yarn.</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> <span class="token function">yarn</span>
</code></pre></div><h2 id="_3-安装-vuepress"><a href="#_3-安装-vuepress" class="header-anchor">#</a> 3. 安装 VuePress</h2> <p>新建一个文件夹可以是任意名字，使用命令行程序访问到创建的项目目录。以本地依赖形式安装。后创建 /docs 目录用来后续存放需要编写的文章。</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token comment"># 将 VuePress 作为一个本地依赖安装</span>
<span class="token function">yarn</span> <span class="token function">add</span> <span class="token parameter variable">-D</span> vuepress

<span class="token comment"># 新建一个 docs 目录</span>
<span class="token function">mkdir</span> docs

<span class="token comment"># 写入内容</span>
<span class="token builtin class-name">echo</span> <span class="token string">'# Hello VuePress'</span> <span class="token operator">&gt;</span> docs/README.md
</code></pre></div><h2 id="_4-配置-vuepress"><a href="#_4-配置-vuepress" class="header-anchor">#</a> 4. 配置 VuePress</h2> <p>编写脚本 修改 package.json 文件，添加一些脚本：</p> <div class="language-json extra-class"><pre class="language-json"><code>    <span class="token punctuation">{</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><p>值得注意的是因为是追加内容，所以需要在本原来的最后一项后加上逗号。例如：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;vuepress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.3.1&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>
     <span class="token property">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build docs&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-在本地启动服务器"><a href="#_5-在本地启动服务器" class="header-anchor">#</a> 5. 在本地启动服务器</h2> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">yarn</span> docs:dev <span class="token comment"># npm run docs:dev</span>
</code></pre></div><p>VuePress 会在 <a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">http://localhost:8080<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (opens new window) 启动一个热重载的开发服务器。</p> <h2 id="基础配置"><a href="#基础配置" class="header-anchor">#</a> 基础配置</h2> <p>在文档目录下创建一个 <code>.vuepress</code> 目录，所有 VuePress 相关的文件都会被放在这里。此时你的项目结构可能是这样：</p> <div class="language- extra-class"><pre class="language-text"><code>.
├─ docs
│  ├─ README.md
│  └─ .vuepress
│     └─ config.js
└─ package.json
</code></pre></div><p>在 <code>.vuepress</code> 文件夹下添加 <code>config.js</code>，配置网站的标题和描述，方便 SEO：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'菜鸡林某の blog'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'菜鸡林某の blog'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此时界面类似于：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190314281.webp" alt="Img"></p> <h3 id="添加导航栏"><a href="#添加导航栏" class="header-anchor">#</a> 添加导航栏</h3> <p>我们现在在页首的右上角添加导航栏，修改 <code>config.js</code>:</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'菜鸡林某の blog'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">'菜鸡林某の blog'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">themeConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">nav</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'首页'</span><span class="token punctuation">,</span> <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">'/'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> 
                <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'菜鸡林某の blog'</span><span class="token punctuation">,</span> 
                <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'Github'</span><span class="token punctuation">,</span> <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">'https://github.com/adrian803'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>效果如下：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190317062.webp" alt="Img">
更多的配置参考 <a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html#%E5%AF%BC%E8%88%AA%E6%A0%8F" target="_blank" rel="noopener noreferrer">VuePress 导航栏<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="添加侧边栏"><a href="#添加侧边栏" class="header-anchor">#</a> 添加侧边栏</h3> <p>现在我们添加一些 md 文档，目前文档的目录如下：</p> <div class="language- extra-class"><pre class="language-text"><code>
.
├─ docs
│  ├─ README.md
│  └─ .vuepress
│     └─ config.js
|  └─ handbook
|     └─ 1.md
|   └─ 2.md
└─ package.json
</code></pre></div><p>我们在 <code>config.js</code> 配置如下：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">themeConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">nav</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">sidebar</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'欢迎学习'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">collapsable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否折叠</span>
                <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;博客介绍&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span> <span class="token punctuation">}</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;基础学习&quot;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/handbook/1'</span><span class="token punctuation">,</span>
              <span class="token literal-property property">collapsable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否折叠</span>
              <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;博客搭建&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/handbook/1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;博客搭建&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/handbook/2&quot;</span> <span class="token punctuation">}</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>对应的效果如下：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190329078.webp" alt="Img"></p> <h3 id="更换主题"><a href="#更换主题" class="header-anchor">#</a> 更换主题</h3> <p>现在基本的目录和导航功能已经实现，如果还想要 <code>loading</code>效果、切换动画、模式切换（暗黑模式）、返回顶部、评论等功能呢，为了简化开发成本，我们可以直接使用主题，我使用的主题是 <a href="https://vuepress-theme-reco.recoluan.com/" target="_blank" rel="noopener noreferrer">vuepress-theme-reco<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：</p> <p>现在我们安装 vuepress-theme-reco：</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">npm</span> <span class="token function">install</span> vuepress-theme-reco --save-dev
<span class="token comment"># or</span>
<span class="token function">yarn</span> <span class="token function">add</span> vuepress-theme-reco
</code></pre></div><h1 id="部署到-github"><a href="#部署到-github" class="header-anchor">#</a> 部署到 GitHub</h1> <p>到这里，我们的博客网站基本搭建好了，接下来我们将它部署到 Github Pages 上。我们首先在 Github 上新建一个仓库，这里我取名为：blog。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190349878.webp" alt="Img"></p> <h2 id="完善-repository"><a href="#完善-repository" class="header-anchor">#</a> 完善 Repository</h2> <ul><li>完善 <code>README.md</code><br>
在 Repository 页面完善项目信息，点击 <code>README.md</code> 文件的编辑按钮进入编辑界面，使用 Markdown 语法编写对该项目更详细的描述。完成后点击 <code>Commit changes</code> 按钮来提交本次修改。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190350894.webp" alt="Img"></li> <li>编写 <code>.gitignore</code><br>
很多文件我们不需要同步到 GitHub 仓库里，使用<code>.gitignore</code>文件来标识出哪些文件或目录不需要同步。<br>
在仓库首页点击<code>Creat new file</code>按钮进入编辑界面。输入新建的文件名：<code>.gitignore</code>，并填写内容：&quot;node_modules&quot;。（根据你使用的 IDE 不同，也许你需要添加&quot;.vs&quot; 或者 &quot;.idea&quot; 等内容来避免同步 IDE 独特的项目信息，请根据需求自行添加。）<br>
完成后点击 <code>Commit changes</code> 按钮来提交本次修改。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190353209.webp" alt="Img"></li></ul> <h2 id="安装和配置-git"><a href="#安装和配置-git" class="header-anchor">#</a> 安装和配置 Git</h2> <ul><li>安装并部署你的 Git<br>
下载并安装相关的程序，运行并配置你的账户。你可以根据廖雪峰老师的这个教程来安装。<a href="https://www.liaoxuefeng.com/wiki/896043488029600/896067074338496" target="_blank" rel="noopener noreferrer">廖雪峰的官方网站 - 安装 Git(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>建立本地和远程仓库的连接<br>
生成本地 SSH Key，并提交 GitHub。使用命令关联远程仓库。<br>
具体请参考：<a href="https://www.liaoxuefeng.com/wiki/896043488029600/896954117292416" target="_blank" rel="noopener noreferrer">廖雪峰的官方网站 - 远程仓库 (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>本地仓库初始化<br>
在本地仓库的根目录下，使用命令初始化本地仓库。<div class="language-sh extra-class"><pre class="language-sh"><code><span class="token function">git</span> init
<span class="token function">git</span> remote <span class="token function">add</span> origin <span class="token operator">&lt;</span>repo<span class="token operator">&gt;</span> <span class="token comment"># 这里的 repo 是你的仓库地址</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;init&quot;</span>
</code></pre></div></li></ul> <h3 id="利用-github-actions-自动部署"><a href="#利用-github-actions-自动部署" class="header-anchor">#</a> 利用 GitHub Actions 自动部署</h3> <h3 id="生成-token"><a href="#生成-token" class="header-anchor">#</a> 生成 token</h3> <p>进入 Github 后，点击我们的头像，然后依次进入 Settings -&gt; Developer settings -&gt; Personal access tokens，对应地址就是 Token 生成：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190624698.webp" alt="Img"> <img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190625173.webp" alt="Img"> <img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190626738.webp" alt="Img"></p> <h3 id="配置-secrets"><a href="#配置-secrets" class="header-anchor">#</a> 配置 secrets</h3> <p>进入你存放你博客源码的项目，然后以此点击 Settings -&gt; Secrets，接着点击右上角的 New repository secret，新建一个 Secret。这里的名字要命名为 ACCESS_TOKEN，然后 Value 就是我们上一步中所生成的 Token。
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190629371.webp" alt="Img"> <img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190630744.webp" alt="Img">
设置好之后效果：
<img src="https://picgo-1257745309.cos.ap-shanghai.myqcloud.com//img202303190630412.webp" alt="Img"></p> <h3 id="编写-action"><a href="#编写-action" class="header-anchor">#</a> 编写 action</h3> <p>进入项目的的 Actions 选项，然后新建一个 workflow，默认新建的 workflow 名字是 main.yml 这个自定义。内容参考下面</p> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token comment"># name 可以自定义</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy GitHub Pages

<span class="token comment"># 触发条件：在 push 到 main/master 分支后，新的 Github 项目 应该都是 main，而之前的项目一般都是 master</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> master

<span class="token comment"># 任务</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build-and-deploy</span><span class="token punctuation">:</span>
    <span class="token comment"># 服务器环境：最新版 Ubuntu</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token comment"># 拉取代码</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">persist-credentials</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>

      <span class="token comment"># 生成静态文件</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        run<span class="token punctuation">:</span>npm install <span class="token important">&amp;&amp;</span> npm run docs<span class="token punctuation">:</span>build

      <span class="token comment"># 部署到 GitHub Pages</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> JamesIves/github<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>deploy<span class="token punctuation">-</span>action@4.1.3 <span class="token comment">#</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">ACCESS_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 也就是我们刚才生成的 secret</span>
          <span class="token key atrule">BRANCH</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages <span class="token comment"># 部署到 gh-pages 分支，因为 main 分支存放的一般是源码，而 gh-pages 分支则用来存放生成的静态文件</span>
          <span class="token key atrule">FOLDER</span><span class="token punctuation">:</span> docs/.vuepress/dist <span class="token comment"># vuepress 生成的静态文件存放的地方</span>
</code></pre></div><p>填写完毕点击 Add secret，如果填写没有问题的话，点击之后就会提示添加成功。
每次当你将 <code>Vuepress</code> 项目提交到 <code>Github</code> 上的时候，<code>Github</code> 就会自动帮你部署项目。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/" class="prev router-link-active">
        博客介绍
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.2b7d4e2d.js" defer></script><script src="/blog/assets/js/2.733019b2.js" defer></script><script src="/blog/assets/js/8.7123cd43.js" defer></script>
  </body>
</html>
